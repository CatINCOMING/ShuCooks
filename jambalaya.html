<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jambalaya Recipe - ShuCooks</title>
    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32.png">
    <link rel="icon" type="image/png" sizes="64x64" href="images/favicon-64.png">
    <link rel="apple-touch-icon" sizes="180x180" href="images/favicon-180.png">
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

    <!-- Site CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Navbar -->
<nav class="navbar">
    <a href="index.html" class="logo">ShuCooks</a>
    <a href="index.html">Home</a>
    <a href="recipes.html">Recipes</a>
    <a href="contact.html">Contact</a>

    <!-- Dark Mode Toggle Button (light switch) -->
    <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">ğŸŒ™</button>
</nav>

<section class="content">
    <h1>Jambalaya (CPK-Style)</h1>
    <img src="images/mmexport.jpg" class="recipe-photo" alt="Jambalaya">

    <div class="button-row">
        <button onclick="printRecipe()">ğŸ–¨ï¸ Print Recipe</button>
        <button id="chefBtn">ğŸ‘¨â€ğŸ³ Chef Mode</button>
    </div>

    <h2>Ingredients (Serves 4)</h2>

    <div id="ingredientsList">
        <div class="ingredient-item">
            <input type="checkbox">
            <span>3 tbsp Cajun spice</span>
        </div>
        <div class="ingredient-item">
            <input type="checkbox">
            <span>12â€“16 shrimp, deveined</span>
        </div>
        <div class="ingredient-item">
            <input type="checkbox">
            <span>Â½ red bell pepper, diced</span>
        </div>
        <div class="ingredient-item">
            <input type="checkbox">
            <span>1 jalapeÃ±o, diced</span>
        </div>
        <div class="ingredient-item">
            <input type="checkbox">
            <span>Â½ red onion, diced</span>
        </div>
        <div class="ingredient-item">
            <input type="checkbox">
            <span>Â½ lb cooked linguine</span>
        </div>
        <div class="ingredient-item">
            <input type="checkbox">
            <span>1 andouille sausage, sliced</span>
        </div>
        <div class="ingredient-item">
            <input type="checkbox">
            <span>1 Â½ cups chicken stock</span>
        </div>
        <div class="ingredient-item">
            <input type="checkbox">
            <span>1 tbsp tomato sauce</span>
        </div>
        <div class="ingredient-item">
            <input type="checkbox">
            <span>Â½ tsp salt</span>
        </div>
        <div class="ingredient-item">
            <input type="checkbox">
            <span>Â¼ tsp black pepper</span>
        </div>
        <div class="ingredient-item">
            <input type="checkbox">
            <span>3 cloves garlic, minced</span>
        </div>
        <div class="ingredient-item">
            <input type="checkbox">
            <span>3 tbsp cooking oil</span>
        </div>
    </div>

    <h2>Instructions</h2>
    <ol id="instructionsList">
        <li><strong>Season the vegetables:</strong> Mix peppers, onion, garlic, Cajun seasoning, and pepper.</li>
        <li><strong>Sear the shrimp:</strong> Cook 30â€“60 seconds per side.</li>
        <li><strong>Cook the sausage:</strong> SautÃ© 1 minute.</li>
        <li><strong>Cook the vegetables:</strong> Sear 3â€“4 minutes.</li>
        <li><strong>Build the sauce:</strong> Add stock + tomato sauce, simmer 5 minutes.</li>
        <li><strong>Add pasta:</strong> Toss 2â€“3 minutes until coated.</li>
    </ol>
</section>

<!-- Chef Mode - FULLSCREEN OVERLAY (no internal quick reference) -->
<div id="chefModeContainer" class="chef-mode-container" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="chef-panel" role="document" aria-label="Chef mode panel">
        <button class="chef-close" onclick="toggleChefMode()" aria-label="Close chef mode">âœ•</button>

        <div class="chef-mode-header">
            <h2>
                <span>ğŸ‘¨â€ğŸ³ Chef Mode</span>
                <span class="hands-free-badge">ğŸ”“ Hands-free</span>
                <span id="voiceStatus" onclick="retryVoice()" style="padding:6px; border-radius:6px; background:transparent;">ğŸ¤ Starting...</span>
            </h2>

            <div style="display:flex; gap:10px; align-items:center;">
                <button class="working-commands-btn">ğŸ“‹ Working Commands</button>
            </div>
        </div>

        <div class="chef-body">
            <aside class="chef-sidebar" aria-label="Ingredients and steps preview">
                <div class="ingredients-toggle" onclick="toggleIngredientsView()">
                    <strong>ğŸ“‹ Ingredients Checklist</strong>
                    <span id="ingredientsToggleIcon">â–¼</span>
                </div>
                <div id="chefIngredientsList" style="display: none;">
                    <div id="chefIngredientsContent" class="chef-ingredients-root"></div>
                </div>

                <div style="margin-top:12px;">
                    <h3 style="margin:8px 0;">All Steps</h3>
                    <div id="stepsPreview"></div>
                </div>
            </aside>

            <main class="chef-main" id="chefMain" tabindex="0">
                <div class="progress-bar" aria-hidden="true">
                    <div class="progress-fill" id="progressFill"></div>
                </div>

                <div class="current-step" id="currentStep" onclick="nextStep()" role="button" aria-pressed="false">
                    <div class="step-title" id="stepTitle">Step 1: Season the vegetables</div>
                    <div class="step-text" id="stepText">Mix peppers, onion, garlic, Cajun seasoning, and pepper.</div>

                    <div class="timer-section" id="timerSection" style="display: none;">
                        <div class="timer-display" id="timerDisplay">00:00</div>
                        <div class="timer-buttons">
                            <button onclick="startTimer(60)">1 min</button>
                            <button onclick="startTimer(180)">3 min</button>
                            <button onclick="startTimer(300)">5 min</button>
                            <button onclick="pauseTimer()">â¸ Pause</button>
                            <button onclick="resetTimer()">ğŸ”„ Reset</button>
                        </div>
                    </div>
                </div>

                <div class="chef-navigation">
                    <button onclick="prevStep()" id="prevBtn">â¬…ï¸ Previous</button>
                    <button onclick="nextStep()" id="nextBtn">Next â¡ï¸</button>
                </div>
            </main>
        </div>
    </div>
</div>

<!-- Working Commands Modal (small popup above chef mode) -->
<div id="workingCommandsModal" class="working-commands-modal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="working-commands-card" role="document" aria-label="Working voice commands">
        <button class="working-commands-close" onclick="closeWorkingCommandsModal()" aria-label="Close">âœ•</button>
        <h3>âœ… Confirmed Working Voice Commands (examples)</h3>
        <ul>
            <li>next / continue / forward â€” Next step</li>
            <li>back / previous â€” Previous step</li>
            <li>go to step [number] â€” Jump to step</li>
            <li>repeat â€” Repeat current step</li>
            <li>start timer â€” Start step timer</li>
            <li>set timer for 2 minutes â€” Start a custom timer</li>
            <li>pause timer / resume timer / reset timer</li>
            <li>show ingredients / hide ingredients â€” Toggle ingredient list</li>
            <li>increase the size of the ingredients / decrease / reset â€” Change ingredient text size</li>
            <li>check off ingredient 2 / uncheck ingredient 2 â€” Toggle by number</li>
            <li>check off the shrimp / uncheck shrimp â€” Toggle by name</li>
            <li>read ingredients / read first 3 ingredients</li>
            <li>mute / unmute â€” Mute or unmute voice feedback</li>
            <li>start listening / stop listening â€” Control voice recognition</li>
            <li>open working commands / list commands â€” Open this list</li>
            <li>open chef mode / exit chef mode â€” Toggle chef mode</li>
            <li>increase text / decrease text â€” Page text zoom</li>
            <li>what is the current step / current step â€” Hear current step</li>
            <li>show timers â€” Show timer UI</li>
            <li>highlight ingredient [name] â€” Visually highlight ingredient</li>
        </ul>
        <p style="color: var(--text-secondary); margin-top:8px;">Tip: Speak clearly. For voice features use Chrome or Edge on HTTPS or localhost.</p>
        <div style="display:flex; gap:8px; justify-content:flex-end; margin-top:12px;">
            <button onclick="closeWorkingCommandsModal()">Close</button>
        </div>
    </div>
</div>

<div class="voice-indicator" id="voiceIndicator">ğŸ¤ Listening...</div>

<!-- Central script -->
<script src="script.js"></script>
</body>
</html>
